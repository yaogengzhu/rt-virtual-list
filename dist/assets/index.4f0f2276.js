var H=Object.defineProperty;var x=Object.getOwnPropertySymbols;var I=Object.prototype.hasOwnProperty,S=Object.prototype.propertyIsEnumerable;var v=(r,o,t)=>o in r?H(r,o,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[o]=t,y=(r,o)=>{for(var t in o||(o={}))I.call(o,t)&&v(r,t,o[t]);if(x)for(var t of x(o))S.call(o,t)&&v(r,t,o[t]);return r};import{M as j,m as w,j as N,r as l,R as M}from"./vendor.63349c3c.js";const O=function(){const o=document.createElement("link").relList;if(o&&o.supports&&o.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))c(e);new MutationObserver(e=>{for(const n of e)if(n.type==="childList")for(const a of n.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&c(a)}).observe(document,{childList:!0,subtree:!0});function t(e){const n={};return e.integrity&&(n.integrity=e.integrity),e.referrerpolicy&&(n.referrerPolicy=e.referrerpolicy),e.crossorigin==="use-credentials"?n.credentials="include":e.crossorigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function c(e){if(e.ep)return;e.ep=!0;const n=t(e);fetch(e.href,n)}};O();const P=j.mock({"list|1000":[{"id|+1":1,title:"@ctitle(15,25)",image:w.exports.Random.dataImage("130x80"),reads:"@natural(3,99999)",from:"@ctitle(3, 10)",time:"@date('yyyy-mm-dd')"}]});const i=N.exports.jsx,p=N.exports.jsxs,T=r=>{const{title:o,from:t,time:c,image:e}=r;return p("div",{className:"item",children:[p("div",{className:"textContet",children:[i("div",{children:o}),p("div",{children:[i("span",{className:"tip",children:t}),i("span",{className:"tip one",children:c})]})]}),i("div",{className:"img",children:i("img",{src:e,alt:""})})]})},_=()=>{const[r,o]=l.exports.useState(0),[t,c]=l.exports.useState(0),e=100,n=l.exports.useRef(0),a=l.exports.useRef(0),u=l.exports.useRef(),{list:m}=P,f=()=>{const s=u.current;if(s){a.current=s.offsetHeight;const d=~~(s.offsetHeight/e)+2;n.current=d,console.log(d,"items")}},L=()=>{const s=u.current;if(s){const g=~~(s.scrollTop/e),h=g+n.current;o(g),m[h]?c(h):c(m.length)}};l.exports.useEffect(()=>{const s=u.current;if(s){a.current=s.offsetHeight;const d=~~(s.offsetHeight/e)+2;n.current=d,o(0),m[d]?c(d):c(m.length)}},[]),l.exports.useEffect(()=>{f();const s=u.current;return s&&(console.log(s),s.addEventListener("scroll",L,{passive:!0})),window.addEventListener("resize",f),()=>{window.removeEventListener("resize",f)}},[]);const R=l.exports.useMemo(()=>(console.log(r,t),m.slice(r,t)),[r,t]),E=l.exports.useMemo(()=>(console.log(),{paddingTop:r*e+"px",paddingBottom:(m.length-t)*e+"px"}),[r,t]);return i("div",{className:"wrapper",children:i("div",{className:"scrollContainer",ref:u,children:i("div",{style:E,children:R.map(s=>i(T,y({},s),s.id))})})})},b=document.querySelector("#root");M.render(i(_,{}),b);
