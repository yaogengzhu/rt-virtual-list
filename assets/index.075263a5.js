var S=Object.defineProperty;var y=Object.getOwnPropertySymbols;var H=Object.prototype.hasOwnProperty,j=Object.prototype.propertyIsEnumerable;var I=(r,o,t)=>o in r?S(r,o,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[o]=t,L=(r,o)=>{for(var t in o||(o={}))H.call(o,t)&&I(r,t,o[t]);if(y)for(var t of y(o))j.call(o,t)&&I(r,t,o[t]);return r};import{M as T,m as M,j as N,r as c,t as _,R as O}from"./vendor.3b5e695d.js";const P=function(){const o=document.createElement("link").relList;if(o&&o.supports&&o.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))l(e);new MutationObserver(e=>{for(const n of e)if(n.type==="childList")for(const a of n.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&l(a)}).observe(document,{childList:!0,subtree:!0});function t(e){const n={};return e.integrity&&(n.integrity=e.integrity),e.referrerpolicy&&(n.referrerPolicy=e.referrerpolicy),e.crossorigin==="use-credentials"?n.credentials="include":e.crossorigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function l(e){if(e.ep)return;e.ep=!0;const n=t(e);fetch(e.href,n)}};P();const b=T.mock({"list|2000":[{"id|+1":1,title:"@ctitle(15,25)",image:M.exports.Random.dataImage("130x80"),reads:"@natural(3,99999)",from:"@ctitle(3, 10)",time:"@date('yyyy-mm-dd')"}]});const i=N.exports.jsx,p=N.exports.jsxs,k=r=>{const{title:o,from:t,time:l,image:e}=r;return p("div",{className:"item",children:[p("div",{className:"textContet",children:[i("div",{children:o}),p("div",{children:[i("span",{className:"tip",children:t}),i("span",{className:"tip one",children:l})]})]}),i("div",{className:"img",children:i("img",{src:e,alt:""})})]})},z=()=>{const[r,o]=c.exports.useState(0),[t,l]=c.exports.useState(0),e=100,n=c.exports.useRef(0),a=c.exports.useRef(0),m=c.exports.useRef(),h=c.exports.useRef(),{list:u}=b,f=()=>{const s=m.current;if(s){a.current=s.offsetHeight;const d=~~(s.offsetHeight/e)+2;n.current=d,console.log(d,"items")}},x=()=>{const s=m.current;if(s){const g=~~(s.scrollTop/e),v=g+n.current;o(g),u[v]?l(v):l(u.length)}};c.exports.useEffect(()=>{const s=m.current;if(s){a.current=s.offsetHeight;const d=~~(s.offsetHeight/e)+2;n.current=d,o(0),u[d]?l(d):l(u.length),E()}},[]),c.exports.useEffect(()=>{f();const s=m.current;return s&&s.addEventListener("scroll",_(x,100),{passive:!0}),window.addEventListener("resize",f),()=>{window.removeEventListener("resize",f),window.removeEventListener("scroll",x),clearInterval(h.current)}},[]);const R=c.exports.useMemo(()=>(console.log(r,t),u.slice(r,t)),[r,t]),w=c.exports.useMemo(()=>(console.log(),{paddingTop:r*e+"px",paddingBottom:(u.length-t)*e+"px"}),[r,t]),E=()=>{const s=m.current;h.current=setInterval(()=>{s.scrollTop++},10)};return i("div",{className:"wrapper",children:i("div",{className:"scrollContainer",ref:m,children:i("div",{style:w,children:R.map(s=>i(k,L({},s),s.id))})})})},q=document.querySelector("#root");O.render(i(z,{}),q);
